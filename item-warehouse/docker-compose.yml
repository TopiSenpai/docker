version: '3.8'

services:
    backend:
        image: topisenpai/item-warehouse-backend:latest
        container_name: item_warehouse_backend
        restart: always
        volumes:
            - ./config.yml:/home/itemwarehouse/config.yml
        env_file: 
            - conf.env
        networks:
            - itemwarehouse
            - database
        expose:
            - 9696:6969

    frontend:
        image: topisenpai/item-warehouse-frontend:latest
        container_name: item_warehouse_frontend
        restart: always
        networks:
            - itemwarehouse
        expose:
            - 80
        depends_on:
            - backend

networks:
    itemwarehouse:
        name: itemwarehouse
    database:
        external: true
